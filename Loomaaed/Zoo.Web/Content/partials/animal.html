<script type="text/ng-template" id="partials/animal.html">
    <form class="css-form" novalidate name="animal_form" ng-submit="submitForm()">
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">
                <div class="btn-group"><!-- ng-disabled="animal_form.$invalid"  -->
                    <button class='btn btn-primary dropdown-toggle' type="submit" ng-disabled="animal_form.$invalid" title="Save">{{SaveButtonText}}</button>
                </div>
                <div class="btn-group">
                    <button class='btn btn-primary dropdown-toggle' title="Cancel" ng-click="cancelForm()">Cancel</button>
                </div>
            </div>
            <div class="panel-body">
                <div ng-class="{ 'has-error': (animal_form.Name.$dirty || animal_form.Species.$dirty) && animal_form.$error.uniqueAnimal }">
                    <label for="animalName" class="control-label">Animal name:</label>
                    <input type="text" 
                           class="form-control has-feedback" 
                           placeholder="Animal name" 
                           aria-describedby="basic-addon1" 
                           ng-model="animal.Name" 
                           name="Name" 
                           required unique-animal>
                    <p ng-show="animal_form.Name.$error.required && animal_form.Name.$dirty" class="help-block">Animal name is required.</p>
                    <p ng-show="animal_form.$error.uniqueAnimal && (animal_form.Name.$dirty || animal_form.Species.$dirty)" class="help-block">Unfortunately animal with this name and species is not unique! Please change either name or species.</p>
                </div>
                <div ng-class="{ 'has-error': animal_form.YearOfBirth.$dirty && animal_form.YearOfBirth.$invalid }">
                    <label for="animalBirthyear" class="control-label">Birthyear:</label>
                    <input type="number" 
                           class="form-control has-feedback" 
                           placeholder="Birthyear" 
                           aria-describedby="basic-addon1" 
                           ng-model="animal.YearOfBirth"
                           name="YearOfBirth"
                           min="0"
                           max="{{currentYear}}"
                           required integer>
                    <p ng-show="animal_form.YearOfBirth.$invalid && animal_form.YearOfBirth.$dirty" class="help-block">Birthyear must an integer value and less than {{currentYear}}.</p>
                </div>
                <div ng-class="{ 'has-error': (animal_form.Name.$dirty || animal_form.Species.$dirty) && animal_form.$error.uniqueAnimal }">
                    <label for="animalSpecies" class="control-label">Species:</label>
                    <select name="Species" class="form-control has-feedback" ng-model="animal.SpeciesID" ng-options="s.SpeciesID as s.Name for s in species" required unique-animal></select>
                    <input type="hidden" name="animalSpeciesID" value="{{animal.SpeciesID}}" />
                </div>
            </div>
            <div class="panel-footer">
            </div>
        </div>
    </form>
</script>
